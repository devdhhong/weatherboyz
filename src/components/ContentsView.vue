<template>
  <div id="ContentsView">
    <div class="contentsBox">
      <img :src="imgPath" alt="">
      <div class="bubbleArea bubbleArea1">
        <div class="msg">ğŸ¦„</div>
      </div>
      <div class="bubbleArea bubbleArea2">
        <div class="msg">â˜€ï¸</div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { onBeforeMount, watch } from "vue";
import * as UTIL from "@/utils/UTIL.js";

let weather: Weather;
let imgPath = "";
let member = "";

let props = defineProps(["isFetchedData"]);
watch(() => props.isFetchedData, (newValue) => {
    //ë°ì´í„° ëª¨ë‘ ë°›ì€ í›„ì— íŒŒì‹± ì²˜ë¦¬
    if (newValue) {
      initData();
   }
  }
);

onBeforeMount(() => {
  initData();
});

function initData(){
  let TBZ = ["SY", "JC", "YH", "HJ", "JY", "KV", "NW", "QQ", "HN", "SW", "ER"];

  if(UTIL.getLocalStorageItem('weather') && UTIL.getLocalStorageItem("member")){
    member = UTIL.getLocalStorageItem("member");

    //ë‹¨ì²´ í…Œë§ˆ ì„ íƒ ì‹œ ë©¤ë²„ ëœë¤
    if (TBZ.indexOf(member) == -1) {
      member = TBZ[Math.floor(Math.random() * 11)];
    }

    weather = JSON.parse(UTIL.getLocalStorageItem('weather'));
    imgPath = UTIL.getWeatherMain(weather.current.weather_code, member);

		console.log(weather);
  }
}

</script>

<style lang="scss" scoped>
@import "../scss/common.scss";
@import "../scss/reset.scss";
@import "../scss/theme.scss";

#ContentsView {
  width: 100%;
  height: $contents_height;
  position: fixed;
  top: $header_height + $current_height + $message_height;

  .contentsBox {
    @include center;
    height: 100%;

    img {
      // padding-bottom: 8%;
      height: 70%;
    }
  }

}

.bubbleArea {
  position: absolute; 
  background-size: contain;
  background-repeat: no-repeat; /* ë°˜ë³µ ë°©ì§€ */
  background-position: center; /* ê°€ìš´ë° ì •ë ¬ */
  width: 20%; 
  height: 20%;

  .msg {
    @include text-style-4;
    @include center;
    padding-bottom: 10%;
    width: 100%; 
    height: 100%;
  }
}

//ìƒì—°
.SY-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-4);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-3);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }

  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 61%; 
      bottom: 71%;
    }

    .bubbleArea2 {
      left: 63%; 
      bottom: 57%;
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 61%; 
      bottom: 71%;
    }

    .bubbleArea2 {
      left: 63%; 
      bottom: 57%;
    }
  }
}

//ì œì´ì½¥
.JC-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 64%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 64%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//ì˜í›ˆ
.YH-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 64%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 58%; 
      bottom: 70%;
    }

    .bubbleArea2 {
      left: 23%; 
      bottom: 55%;
      transform: scale(-1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//í˜„ì¬
.HJ-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 64%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 58%; 
      bottom: 70%;
    }

    .bubbleArea2 {
      left: 23%; 
      bottom: 55%;
      transform: scale(-1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//ì£¼ì—°
.JY-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 70%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 25%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//ì¼€ë¹ˆ
.KV-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 24%; 
      bottom: 42%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „

			// div {
			// 	transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
			// }
    }

    .bubbleArea2 {
      left: 39%; 
      bottom: 26%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//ë‰´
.NW-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 18%; 
      bottom: 42%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }

    .bubbleArea2 {
      left: 58%; 
      bottom: 45%;
      transform: scale(1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//í
.QQ-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 15%; 
      bottom: 44%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }

    .bubbleArea2 {
      left: 53%; 
      bottom: 74%;
      transform: scale(1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//í•™ë…„
.HN-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 19%; 
      bottom: 74%;
      transform: scale(-1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }

    .bubbleArea2 {
      left: 63%; 
      bottom: 58%;
      transform: scale(1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//ì„ ìš°
.SW-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 17%; 
      bottom: 25%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }

    .bubbleArea2 {
      left: 63%; 
      bottom: 72%;
      transform: scale(1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

//ì—ë¦­
.ER-mode {
  //ë¼ì´íŠ¸ ëª¨ë“œ
  &.light-mode {
    .bubbleArea {
      background-image: var(--bubble-style-2);
      opacity: 80%;
    }

    .msg {
      color: var(--text-color-1);
    }
  }

  //ë‹¤í¬ ëª¨ë“œ
  &.dark-mode {
    .bubbleArea {
      background-image: var(--bubble-style-1);
      opacity: 60%;
    }

    .msg {
      color: var(--text-color-2);
    }
  }
  //ê¸°ë³¸ í…Œë§ˆ
  &.default-mode {
    .bubbleArea1 {
      left: 67%; 
      bottom: 74%;
    }

    .bubbleArea2 {
      left: 16%; 
      bottom: 35%;
      transform: scale(-1, -1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }

  //ë² ì´ë¹„ í…Œë§ˆ
  &.baby-mode {
    .bubbleArea1 {
      left: 23%; 
      bottom: 49%;
      transform: scale(-1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }

    .bubbleArea2 {
      left: 64%; 
      bottom: 67%;
      transform: scale(1, 1); //ì¢Œìš° ë°˜ì „ ìƒí•˜ ë°˜ì „
    }
  }
}

</style>
